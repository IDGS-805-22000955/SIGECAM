{% extends "admin/layout_admin.html" %}
{% block title %}Nuevo Material{% endblock %}
{% block header_title %}Registrar Insumo{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 0 auto;">
    <div class="section-card">
        <form method="POST" enctype="multipart/form-data">

            <h4 style="color: var(--primary); margin-bottom: 1.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem;">
                Datos Generales
            </h4>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">Fotografía del Material</label>
                    <input type="file" name="foto" class="form-input" accept="image/*">
                </div>

                <div class="form-group">
                    <label class="form-label">Código Interno / SKU *</label>
                    <input type="text" name="codigo_interno" class="form-input" required placeholder="Ej. MP-CUERO-001">
                </div>

                <div class="form-group full-width">
                    <label class="form-label">Nombre del Material *</label>
                    <input type="text" name="nombre" class="form-input" required>
                </div>

                <div class="form-group full-width">
                    <label class="form-label">Descripción</label>
                    <textarea name="descripcion" class="form-input" rows="2"></textarea>
                </div>
            </div>

            <h4 style="color: var(--primary); margin: 2rem 0 1.5rem 0; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem;">
                Inventario y Costos
            </h4>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">Proveedor Principal</label>
                    <select name="proveedor_id" class="form-input">
                        <option value="">Seleccione...</option>
                        {% for p in proveedores %}
                            <option value="{{ p.id }}">{{ p.nombre_empresa }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Costo Unitario ($)</label>
                    <input type="number" step="0.01" name="costo_unitario" class="form-input">
                </div>

                <div class="form-group">
                    <label class="form-label">Stock Inicial</label>
                    <input type="number" step="0.01" name="cantidad_stock" class="form-input" value="0">
                </div>

                <div class="form-group">
                    <label class="form-label">Unidad de Medida</label>
                    <select name="unidad_medida" class="form-input">
                        <option value="pza">Pieza (pza)</option>
                        <option value="mt">Metros (mt)</option>
                        <option value="kg">Kilogramos (kg)</option>
                        <option value="lt">Litros (lt)</option>
                        <option value="caja">Caja</option>
                    </select>
                </div>
            </div>

            <div class="form-actions">
               <a href="{{ url_for('admin.materiales_list') }}" class="btn-secondary">Cancelar</a>
                <button type="submit" class="btn-primary">Guardar Material</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}